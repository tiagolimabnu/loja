<ui:composition template="home.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">
    
    <ui:define name="title">
        Produto
    </ui:define>

    <ui:define name="content">
			
			<p:panel id="toggleable" header="Cadastro de Produtos" toggleable="true" closable="true" toggleSpeed="500" closeSpeed="500" widgetVar="panel" style="margin-top: 50px;margin-bottom:40px" >
		 			
					<h:form>
					<p:messages id="msg" closable="true"/>
							 
		                    <div class="row" >
		                    
		                    	   <div class="col-25">
		                            	<p:outputLabel for="codigo" value="Codigo"/>
		                            	<p:inputText   id="codigo"  value="#{produtoMB.produto.codigo}"  required="true" requiredMessage="Codigo Barra obrigatorio"/>
		                            </div>
		                    
		                            <div class="col-25">
		                            	<p:outputLabel for="codigoBarra" value="Codigo de Barra"/>
		                            	<p:inputText   id="codigoBarra"  value="#{produtoMB.produto.codigoBarra}"  required="true" requiredMessage="Codigo Barra obrigatorio"/>
		                            </div>
									
									 <div class="col-50">
		                            	<p:outputLabel for="descricao" value="Descricao"/>
		                            	<p:inputText id="descricao" maxlength="255" value="#{produtoMB.produto.descricao}" required="true" requiredMessage="Descriçao  obrigatorio"/>
		                            </div>
		                         
		 
		                        </div>
		                        
		                        
		                        <div class="row">
		                            
		                            <div class="col-25">
		                            	<p:outputLabel for="quantidade" value="Estoque"/>
		                            	<p:inputText  id="quantidade" value="#{produtoMB.produto.quantidade}"  required="true" requiredMessage="Quantidade  obrigatorio"/>
		                            </div>
		                            	
		                            <div class="col-25">
		                            	<p:outputLabel for="qtdMinima" value="Estoque Minimo"/>
		                            	<p:inputText  id="qtdMinima" value="#{produtoMB.produto.quantidadeMinima}" required="true" requiredMessage="Quantidade minima  obrigatorio"/>
		                            </div>
		                            	
		                            	<div class="col-25">
		                            	<p:outputLabel for="qtdMaxima" value="Estoque Maximo"/>
		                            	<p:inputText   id="qtdMaxima" value="#{produtoMB.produto.quantidadeMaxima}" required="true" requiredMessage="Quantidade maxima  obrigatorio"/>
		                            </div>
		                            	
		                            	
		                            	<div class="col-25">
		                            			<p:outputLabel for="pcompra" value="Preço compra"/>
		                            			<p:inputNumber id="pcompra" value="#{produtoMB.produto.precoCompra}"  symbol="R$" required="true" requiredMessage="Preço de compra  obrigatorio"/>
		                            	</div>
		                            	
		                            
		                        </div>
		                        
		                        
		                         <div class="row">
		                            	<div class="col-25">
		                            			<p:outputLabel for="pcentual" value="Percentual venda"/>
		                            			<p:inputNumber id="pcentual" value="#{produtoMB.produto.pctVenda}" symbol="R$" required="true" requiredMessage="Percentual de Venda  obrigatorio" >
		                            					<p:ajax event="blur"  listener="#{produtoMB.calcularPorcentagem}" update="pvenda" process="@this"/>
		                            			</p:inputNumber>
		                            	</div>
		                            	<div class="col-25">
		                            			<p:outputLabel for="pvenda" value="Preço venda"/>
		                            			<h:outputText id="per"></h:outputText>
		                            			<p:inputNumber  id="pvenda" value="#{produtoMB.produto.precoVenda}" symbol="R$" required="true" requiredMessage="Preço de venda obrigatorio"/>
		                            	</div>
		                            	
		                            	<div class="col-25">
		                            			<p:outputLabel for="pdata" value="Data"/>
		                            			<p:calendar id="pdata" value="#{produtoMB.produto.data}"  pattern="dd/MM/yyyy"   locale="pt" required="true" requiredMessage="Data obrigatorio"/>
		                            	</div>
		                            	
		                            <div class="col-25">
		                             					<p:outputLabel for="categoria" value="Categoria"/>
		                           						<p:selectOneMenu id="categoria" value="#{produtoMB.produto.categoria}" required="true" requiredMessage="Categoria obrigatorio" style="width: 267px">
											                <f:selectItem itemValue="null" itemLabel="Selecione uma Categoria"/>
											                <f:selectItems value="#{produtoMB.categorias}" var="categoria" itemValue="#{categoria}" itemLabel="#{categoria.descricao}"/>
											            </p:selectOneMenu>
											                           			
		                            		</div>
		                            </div>
		                            
		                             <div class="row">
		                             		
		                             		
		                             		
		                           	  		<div class="col-25">
		                           				       <p:outputLabel for="forn" value="Fornecedor"/>
		                           						<p:selectOneMenu id="forn" value="#{produtoMB.produto.fornecedor}" required="true" requiredMessage="Fornecedor obrigatorio" style="width: 267px">
											                <f:selectItem itemValue="null" itemLabel="Selecione um Fornecedor"/>
											                <f:selectItems value="#{produtoMB.fornecedores}" var="fornecedor" itemValue="#{fornecedor}" itemLabel="#{fornecedor.nome}"/>
											            </p:selectOneMenu>
											                           			
		                            		</div>
		                            
		                             </div><br/>
								<p:commandButton value="Registrar" action="#{produtoMB.grava}" update="@form"/>
					</h:form>
		    </p:panel>                    
		      
        		
    </ui:define>
</ui:composition>